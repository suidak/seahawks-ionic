{"version":3,"sources":["../../src/pages/list-report/list-report.module.ts","../../node_modules/time-ago-pipe/time-ago-pipe.js","../../src/pages/list-report/list-report.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAA4C;AAG5C,8DAA8D;AAC9D,aAAa;AACyC;AACb;AACO;AACD;AAgB/C;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QAdhC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAc;gBACd,0DAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,oEAAc,CAAC;gBACxC,4EAAe,CAAC,QAAQ,EAAE;aAE3B;YACD,OAAO,EAAE;gBACP,oEAAc;aACf;SACF,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;ACxBjC;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,+CAA+C,EAAE;AACnG,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,yC;;;;;;;;;;;;;;;;;;;;;AC1G2E;AAEjC;AACsC;AAEhF;;;;;GAKG;AAOH;IAQE,wBAAmB,OAAsB,EAAS,YAA0B,EAAQ,SAA2B,EAAY,SAA0B;QAArJ,iBAcC;QAdkB,YAAO,GAAP,OAAO,CAAe;QAAS,iBAAY,GAAZ,YAAY,CAAc;QAAQ,cAAS,GAAT,SAAS,CAAkB;QAAY,cAAS,GAAT,SAAS,CAAiB;QAPrJ,YAAO,GAAW,KAAK,CAAC;QASpB,IAA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","file":"11.js","sourcesContent":["import { TimeAgoPipe } from 'time-ago-pipe';\n\n\n// The translate loader needs to know where to load i18n files\n// in Ionic';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ListReportPage } from './list-report';\n\n@NgModule({\n  declarations: [\n    ListReportPage,\n    TimeAgoPipe\n  ],\n  imports: [\n    IonicPageModule.forChild(ListReportPage),\n    TranslateModule.forChild()\n    \n  ],\n  exports: [\n    ListReportPage\n  ]\n})\nexport class ListReportPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-report/list-report.module.ts","\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar core_1 = require(\"@angular/core\");\r\nvar TimeAgoPipe = (function () {\r\n    function TimeAgoPipe(changeDetectorRef, ngZone) {\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.ngZone = ngZone;\r\n    }\r\n    TimeAgoPipe.prototype.transform = function (value) {\r\n        var _this = this;\r\n        this.removeTimer();\r\n        var d = new Date(value);\r\n        var now = new Date();\r\n        var seconds = Math.round(Math.abs((now.getTime() - d.getTime()) / 1000));\r\n        var timeToUpdate = this.getSecondsUntilUpdate(seconds) * 1000;\r\n        this.timer = this.ngZone.runOutsideAngular(function () {\r\n            if (typeof window !== 'undefined') {\r\n                return window.setTimeout(function () {\r\n                    _this.ngZone.run(function () { return _this.changeDetectorRef.markForCheck(); });\r\n                }, timeToUpdate);\r\n            }\r\n            return null;\r\n        });\r\n        var minutes = Math.round(Math.abs(seconds / 60));\r\n        var hours = Math.round(Math.abs(minutes / 60));\r\n        var days = Math.round(Math.abs(hours / 24));\r\n        var months = Math.round(Math.abs(days / 30.416));\r\n        var years = Math.round(Math.abs(days / 365));\r\n        if (seconds <= 45) {\r\n            return 'a few seconds ago';\r\n        }\r\n        else if (seconds <= 90) {\r\n            return 'a minute ago';\r\n        }\r\n        else if (minutes <= 45) {\r\n            return minutes + ' minutes ago';\r\n        }\r\n        else if (minutes <= 90) {\r\n            return 'an hour ago';\r\n        }\r\n        else if (hours <= 22) {\r\n            return hours + ' hours ago';\r\n        }\r\n        else if (hours <= 36) {\r\n            return 'a day ago';\r\n        }\r\n        else if (days <= 25) {\r\n            return days + ' days ago';\r\n        }\r\n        else if (days <= 45) {\r\n            return 'a month ago';\r\n        }\r\n        else if (days <= 345) {\r\n            return months + ' months ago';\r\n        }\r\n        else if (days <= 545) {\r\n            return 'a year ago';\r\n        }\r\n        else {\r\n            return years + ' years ago';\r\n        }\r\n    };\r\n    TimeAgoPipe.prototype.ngOnDestroy = function () {\r\n        this.removeTimer();\r\n    };\r\n    TimeAgoPipe.prototype.removeTimer = function () {\r\n        if (this.timer) {\r\n            window.clearTimeout(this.timer);\r\n            this.timer = null;\r\n        }\r\n    };\r\n    TimeAgoPipe.prototype.getSecondsUntilUpdate = function (seconds) {\r\n        var min = 60;\r\n        var hr = min * 60;\r\n        var day = hr * 24;\r\n        if (seconds < min) {\r\n            return 2;\r\n        }\r\n        else if (seconds < hr) {\r\n            return 30;\r\n        }\r\n        else if (seconds < day) {\r\n            return 300;\r\n        }\r\n        else {\r\n            return 3600;\r\n        }\r\n    };\r\n    return TimeAgoPipe;\r\n}());\r\nTimeAgoPipe = __decorate([\r\n    core_1.Pipe({\r\n        name: 'timeAgo',\r\n        pure: false\r\n    }),\r\n    __metadata(\"design:paramtypes\", [core_1.ChangeDetectorRef, core_1.NgZone])\r\n], TimeAgoPipe);\r\nexports.TimeAgoPipe = TimeAgoPipe;\r\n//# sourceMappingURL=time-ago-pipe.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/time-ago-pipe/time-ago-pipe.js\n// module id = 358\n// module chunks = 8 11","import { FoundReports } from './../../providers/FoundReports/FoundReports';\nimport { FoundReport } from './../../models/FoundReport';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, ModalController, ToastController } from 'ionic-angular';\n\n/**\n * Generated class for the ListReportPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-list-report',\n  templateUrl: 'list-report.html',\n})\nexport class ListReportPage {\n  reports: string = \"All\";\n  currentFoundReports: FoundReport[];\n  currentFoundReportsclosed: FoundReport[];\n  currentFoundReportsurgent: FoundReport[];\n  \n  \n  imagename : string;\n  constructor(public navCtrl: NavController, public foundReports: FoundReports,public modalCtrl : ModalController,    public toastCtrl: ToastController,\n  ) {\n      this.foundReports.query().subscribe(resp=>{\n      this.currentFoundReports=(resp);\n    },(err)=>{\n      console.log(err)\n    }\n  );\n    this.foundReports.queryClosed().subscribe(resp=>{\n      this.currentFoundReportsclosed=(resp);\n    });\n    this.foundReports.queryUrgent().subscribe(resp=>{\n      this.currentFoundReportsurgent=(resp);\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ListReportPage');\n  }\n  addItem() {\n    let addModal = this.modalCtrl.create('ReportCreatePage');\n    addModal.onDidDismiss(foundreport => {\n      if (foundreport) {\n        this.foundReports.add(foundreport).subscribe(resp=> {\n          console.log(resp);\n          this.foundReports.query().subscribe(resp=>{\n            this.currentFoundReports=(resp);\n          },(err)=>{\n            console.log(err)\n          }\n        );\n          this.foundReports.queryClosed().subscribe(resp=>{\n            this.currentFoundReportsclosed=(resp);\n          });\n          this.foundReports.queryUrgent().subscribe(resp=>{\n            this.currentFoundReportsurgent=(resp);\n          });\n          let toast = this.toastCtrl.create({\n            message: \"Report Submitted, 21 Days until a Welfare Org Takes over.\",\n            duration: 8000,\n            position: 'bottom'\n          });\n          toast.present();\n        },err=>{\n          console.log(err);\n          this.foundReports.query().subscribe(resp=>{\n            this.currentFoundReports=(resp);\n          },(err)=>{\n            console.log(err)\n          }\n        );\n          this.foundReports.queryClosed().subscribe(resp=>{\n            this.currentFoundReportsclosed=(resp);\n          });\n          this.foundReports.queryUrgent().subscribe(resp=>{\n            this.currentFoundReportsurgent=(resp);\n          });          let toast = this.toastCtrl.create({\n            message: \"No Report Submitted, 21 Days until a Welfare Org Takes over.\",\n            duration: 8000,\n            position: 'bottom'\n          });\n          toast.present();\n        });\n      }\n    })\n    addModal.present();\n  }\n  openItem(item: FoundReport) {\n    this.navCtrl.push('reportDetailPage', {\n      item: item\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-report/list-report.ts"],"sourceRoot":""}